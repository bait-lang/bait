// SPDX-FileCopyrightText: 2024-present Lukas Neubert <lukas.neubert@proton.me>
// SPDX-License-Identifier: MPL-2.0

fun result_fun(give_error bool) !i32 {
	return error('throw')
}

fun propagates_result() !i32 {
	result_fun(true)!
	return 0
}

fun test_propagation() {
	p := propagates_result() or {
		assert err == 'throw'
		2
	}
	assert p == 2
}
