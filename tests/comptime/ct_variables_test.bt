// SPDX-FileCopyrightText: 2023-present Lukas Neubert <lukas.neubert@proton.me>
// SPDX-License-Identifier: MPL-2.0

fun test_comptime_vars() {
	assert $PKG == 'main'
	assert $FILE.replace('\\', '/') == 'tests/comptime/ct_variables_test.bt'
	assert $LINE == '7'
	assert $FILE_LINE.replace('\\', '/') == 'tests/comptime/ct_variables_test.bt:8'
	assert $FUN == 'test_comptime_vars'

	// The following vars are hard to test

	assert $ABS_FILE.length > $FILE.length

	assert $BAITEXE.length > 0

	assert $BAITDIR.length < $BAITEXE.length

	assert $BAITHASH.length == 7
}

fun test_interpolated_var() {
	assert 'pkg: ${$PKG}' == 'pkg: main'
}
