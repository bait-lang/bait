// SPDX-FileCopyrightText: 2023-present Lukas Neubert <lukas.neubert@proton.me>
// SPDX-License-Identifier: MPL-2.0

import bait.lexer
import bait.token

fun test_unclosed_string() {
	text := 'str := "no
closing
quote'

	mut l := lexer.Lexer{}
	l.init(text, .discard)
	l.next()
	l.next()

	assert l.next() == .error
	assert l.val == 'unclosed string literal'
	assert l.get_pos() == token.Pos{
		line = 3
		col = 6
	}
}
